<div class='download-section'>
  <button onclick='window.print()' class='download-btn'>
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"/></svg>
    Print Portfolio as PDF
  </button>
</div>

<div class='search-bar'>
  <input type='search' placeholder='Search projects...' hx-get='/projects/search' hx-trigger='keyup changed delay:200ms' hx-target='#project-results' name='q'>
</div>

<div id='project-results'>
  <div class='project-split'>
    <div class='project-section'>
      <h3>Hardware</h3>
      {% for project in hardware %}
      <div class='project-card'>
        {% if project.image.is_some() %}
        <img src='{{ project.image.as_ref().unwrap() }}' alt='{{ project.name }}' class='project-image'>
        {% endif %}
        <h4>{{ project.name }}</h4>
        <p>{{ project.description }}</p>
        <div class='tech'>{{ project.tech|join(", ") }}</div>
        {% if project.link.is_some() %}
        <small><a href='{{ project.link.as_ref().unwrap() }}' target='_blank' rel='noopener'>View →</a></small>
        {% endif %}
      </div>
      {% endfor %}
    </div>

    <div class='project-section'>
      <h3>Software</h3>
      {% for project in software %}
      <div class='project-card'>
        {% if project.image.is_some() %}
        <img src='{{ project.image.as_ref().unwrap() }}' alt='{{ project.name }}' class='project-image'>
        {% endif %}
        <h4>{{ project.name }}</h4>
        <p>{{ project.description }}</p>
        <div class='tech'>{{ project.tech|join(", ") }}</div>
        {% if project.link.is_some() %}
        <small><a href='{{ project.link.as_ref().unwrap() }}' target='_blank' rel='noopener'>View →</a></small>
        {% endif %}
      </div>
      {% endfor %}
    </div>
  </div>
</div>
